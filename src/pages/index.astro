---
// Marca esta p√°gina como renderizada en el servidor, no prerenderizada
export const prerender = false;

import { languages, defaultLanguage } from "../i18n/languages";

// Get the user's preferred language from the browser
const browserLang = Astro.request.headers
  .get("accept-language")
  ?.split(",")[0]
  ?.split("-")[0];

// Determine which language to use
let redirectLang = defaultLanguage;
if (browserLang && browserLang in languages) {
  redirectLang = browserLang;
}

// Redirect to the appropriate language version
return Astro.redirect(`/${redirectLang}`);
---
